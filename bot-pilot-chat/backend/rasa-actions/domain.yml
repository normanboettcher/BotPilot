version: "3.1"

intents:
  - begruessung
  - verabschiedung
  - faq
  - positive_feedback
  - negative_feedback
  - general_bot
  - parking
  - kosten
  - unterlagen
  - steuererklaerung
  - standort
  - anreise
  - bereiche
  - zeiten
  - steuerberatung
  - termin_vereinbaren
  - termin_infos
  - stop_termin_form
  - termin_medium_inform_mail
  - termin_medium_inform_telefon

entities:
  - termin_type
  - termin_action
  - termin_medium

slots:
  termin_type:
    mappings:
      - type: from_entity
        entity: termin_type
    type: categorical
    values:
      - erstberatung
      - steuerberatung
      - ersttermin
      - termin
      - online-termin

  termin_medium_attempts:
    type: float
    initial_value: 0
    mappings:
      - type: custom

  termin_medium:
    mappings:
      - type: from_entity
        entity: termin_medium
      - type: from_intent
        intent: termin_medium_inform_mail
        value: mail
        conditions:
          - active_loop: termin_form
            requested_slot: termin_medium
      - type: from_intent
        intent: termin_medium_inform_telefon
        value: telefon
        conditions:
          - active_loop: termin_form
            requested_slot: termin_medium
    type: categorical
    values:
      - mail
      - telefon
  termin_action:
    mappings:
      - type: from_entity
        entity: termin_action
    type: categorical
    values:
      - anrufen
      - buchen
      - vereinbaren
      - bekommen
      - brauchen
      - machen
      - kommen
      - herankommen

forms:
  termin_form:
    required_slots:
      - termin_medium


actions:
  - action_default_fallback
  - action_begruessung
  - action_get_faq
  - action_positive_feedback
  - action_negative_feedback
  - action_verabschiedung
  - action_general_bot
  - action_parking
  - action_kosten
  - action_unterlagen
  - action_steuererklaerung
  - action_standort
  - action_anreise
  - action_bereiche
  - action_zeiten
  - action_steuerberatung
  - action_termin_vereinbaren
  - action_ask_termin_medium

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
