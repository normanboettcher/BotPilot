version: '3.1'
stories:

  - story: happy path start with termin_form directly
    steps:
      - intent: termin_vereinbaren
      - action: termin_form
      - active_loop: termin_form

  - story: happy path general_bot and goodbye
    steps:
      - intent: general_bot
      - action: action_general_bot
      - intent: verabschiedung
      - action: action_verabschiedung

  - story: happy path greet and goodbye
    steps:
      - intent: begruessung
      - action: action_begruessung
      - intent: verabschiedung
      - action: action_verabschiedung

  - story: happy path greet and ask general bot
    steps:
      - intent: begruessung
      - action: action_begruessung
      - intent: general_bot
      - action: action_general_bot

  - story: happy path greet and start termin_form
    steps:
      - intent: begruessung
      - action: action_begruessung
      - intent: termin_vereinbaren
      - action: termin_form
      - active_loop: termin_form

  - story: happy path general_bot and start termin_form
    steps:
      - intent: general_bot
      - action: action_general_bot
      - intent: termin_vereinbaren
      - action: termin_form
      - active_loop: termin_form

  - story: happy path collect termin_medium
    steps:
      - action: termin_form
      - active_loop: termin_form
      - slot_was_set:
          - requested_slot: termin_medium
      - intent: termin_medium_inform
      - action: termin_form

  - story: happy path collect termin_type
    steps:
      - action: termin_form
      - active_loop: termin_form
      - slot_was_set:
          - requested_slot: termin_type
      - intent: termin_type_inform
      - action: termin_form

  - story: happy path switch to user_type_form
    steps:
      - active_loop: termin_form
      - slot_was_set:
          - requested_slot: null
      - action: termin_form
      - active_loop: null
      - action: action_switch_form
      - slot_was_set:
          - next_form_name: user_type_form
      - action: user_type_form
      - active_loop: user_type_form

  - story: happy path collect user_type and switch to user info form
    steps:
      - action: user_type_form
      - active_loop: user_type_form
      - slot_was_set:
          - requested_slot: user_type
      - intent: user_type_inform
      - slot_was_set:
          - requested_slot: null
      - action: user_type_form

  - story: happy path collect user_name
    steps:
      - action: user_info_form
      - active_loop: user_info_form
      - slot_was_set:
          - requested_slot: user_name
      - intent: user_name_inform
      - slot_was_set:
          - requested_slot: user_name_confirmed
      - action: user_info_form
      - intent: affirm
      - action: user_info_form

  - story: happy path collect user_mail
    steps:
      - action: user_info_form
      - active_loop: user_info_form
      - slot_was_set:
          - requested_slot: user_mail
      - intent: user_mail_inform
      - action: user_info_form
      - slot_was_set:
          - requested_slot: null

  - story: happy path collect consultant_name
    steps:
      - action: consultant_form
      - active_loop: consultant_form
      - slot_was_set:
          - requested_slot: consultant_name
      - action: action_ask_consultant
      - intent: consultant_inform
      - action: consultant_form
      - slot_was_set:
          - requested_slot: null
      - active_loop: null
      - action: action_switch_form

  - story: happy path collect meeting_datetime
    steps:
      - action: make_meeting_form
      - active_loop: make_meeting_form
      - slot_was_set:
          - requested_slot: meeting_datetime
      - intent: meeting_datetime_inform
      - action: make_meeting_form
      - slot_was_set:
          - requested_slot: null
      - active_loop: null
      - action: action_submit_make_meeting_form
      - action: action_ask_feedback

  - story: collect user_name and name confirmed directly
    steps:
      - action: user_info_form
      - active_loop: user_info_form
      - slot_was_set:
          - requested_slot: user_name_confirmed
      - intent: affirm
      - action: user_info_form

  - story: collect user_name and name was denied in first step
    steps:
      - action: user_info_form
      - active_loop: user_info_form
      - slot_was_set:
          - requested_slot: user_name_confirmed
      - intent: deny
      - action: user_info_form
      - slot_was_set:
          - requested_slot: user_name
      - action: user_info_form
