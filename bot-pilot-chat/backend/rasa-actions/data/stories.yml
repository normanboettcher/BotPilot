version: '3.1'
stories:

  - story: user makes three mistakes and denies
    steps:
      - intent: termin_vereinbaren
      - action: termin_form
      - active_loop: termin_form
      - slot_was_set:
          - requested_slot: termin_medium
      - intent: nlu_fallback
      - slot_was_set:
          - termin_medium_attempts: 3
      - action: action_ask_continue
      - active_loop: null
      - intent: deny
      - action: action_deny

  - story: user makes three mistakes and affirms
    steps:
      - intent: termin_vereinbaren
      - action: termin_form
      - active_loop: termin_form
      - slot_was_set:
          - requested_slot: termin_medium
      - intent: nlu_fallback
      - slot_was_set:
          - termin_medium_attempts: 3
      - action: action_ask_continue
      - active_loop: null
      - intent: affirm
      - action: termin_form
      - active_loop: termin_form

  - story: happy path collect termin_medium and termin_type
    steps:
      - intent: termin_vereinbaren
      - action: termin_form
      - active_loop: termin_form
      - slot_was_set:
          - requested_slot: termin_medium
      - intent: termin_medium_inform
      - action: termin_form
      - active_loop: termin_form
      - slot_was_set:
          - requested_slot: termin_type
      - intent: termin_type_inform
      - action: termin_form
      - active_loop: null
      - action: action_switch_user_type_form

  - story: happy path collect user_type and submit
    steps:
      - slot_was_set:
          - next_form_name: user_type_form
      - action: user_type_form
      - active_loop: user_type_form
      - slot_was_set:
          - requested_slot: user_type
      - intent: user_type_inform
      - action: user_type_form
      - active_loop: null
      - action: action_submit_termin
