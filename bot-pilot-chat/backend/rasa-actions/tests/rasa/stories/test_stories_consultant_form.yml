version: '3.1'
stories:
  - story: happy path collect consultant_name
    steps:
      - action: consultant_form
      - active_loop: consultant_form
      - slot_was_set:
          - requested_slot: consultant_name
      - user: |-
          /consultant_inform{"person_name": "Herbert Graumueller"}
        intent: consultant_inform
      - slot_was_set:
          - consultant_name: Herbert Graumueller
          - requested_slot: null
      - action: consultant_form
      - active_loop: null
      - action: action_switch_form
      - slot_was_set:
          - next_form_name: make_meeting_form
      - action: make_meeting_form
      - active_loop: make_meeting_form

  - story: happy path collect user_name and user_mail und consultant_name
    steps:
      - action: user_info_form
      - active_loop: user_info_form
      - slot_was_set:
          - user_name_confirmed: false
          - requested_slot: user_name
      - user: |-
          Mein Name ist [Jane Doe](person_name).
        intent: user_name_inform
      - entities:
          - person_name: Jane Doe
      - action: user_info_form
      - slot_was_set:
          - user_name: Jane Doe
          - requested_slot: user_name_confirmed
      - intent: affirm
      - action: user_info_form
      - slot_was_set:
          - user_name_confirmed: true
          - user_name: Jane Doe
          - requested_slot: user_mail
      - user: |-
          Sie erreichen mich unter der Adresse: [jane.doe@email.de](user_mail)
        intent: user_mail_inform
      - entities:
          - user_mail: jane.doe@email.de
      - action: user_info_form
      - slot_was_set:
          - user_mail: jane.doe@email.de
          - requested_slot: null
      - active_loop: null
      - action: action_switch_form
      - slot_was_set:
          - user_name: Jane Doe
          - user_mail: jane.doe@email.de
          - next_form_name: consultant_form
      - action: consultant_form
      - active_loop: consultant_form
      - slot_was_set:
          - requested_slot: consultant_name
      - user: |-
          /consultant_inform{"person_name": "Herbert Graumueller"}
        intent: consultant_inform
      - slot_was_set:
          - consultant_name: Herbert Graumueller
          - requested_slot: null
      - action: consultant_form
      - active_loop: null
      - action: action_switch_form
      - slot_was_set:
          - next_form_name: make_meeting_form
      - action: make_meeting_form
      - active_loop: make_meeting_form