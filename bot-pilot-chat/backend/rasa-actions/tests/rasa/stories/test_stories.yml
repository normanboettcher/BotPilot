version: "3.1"
stories:
  - story: happy path greet
    steps:
      - user: |
          Hallo
        intent: begruessung
      - action: action_begruessung

  - story: happy path goodbye
    steps:
      - user: |
          Tschüss
        intent: verabschiedung
      - action: action_verabschiedung

  - story: happy path greet and bye
    steps:
      - user: |
          Hallo
        intent: begruessung
      - action: action_begruessung
      - user: |
          Tschüss
        intent: verabschiedung
      - action: action_verabschiedung

  - story: happy path make termin with mail
    steps:
      - user: |-
          Ich möchte einen [Termin]{"entity": "termin_type", "value": "termin"} vereinbaren.
        intent: termin_vereinbaren
      - slot_was_set:
          - termin_type: termin
      - action: termin_form
      - active_loop: termin_form
      - slot_was_set:
          - termin_type: termin
      - slot_was_set:
          - requested_slot: termin_medium
      - user: |-
          Per [Mail]{"entity": "termin_medium", "value": "mail"} bitte.
        intent: termin_medium_inform_mail
      - slot_was_set:
          - termin_medium: mail
      - action: termin_form
      - slot_was_set:
          - termin_medium: mail
          - termin_medium_attempts: 0
          - requested_slot: null
      - active_loop: null
      - action: action_termin_vereinbaren
      - slot_was_set:
          - termin_medium: null
          - termin_medium_attempts: 0

  - story: happy path greet and ask what you can do
    steps:
      - user: |
          Hallo
        intent: begruessung
      - action: action_begruessung
      - user: |
          Was kannst du alles?
        intent: general_bot
      - action: action_general_bot

  - story: happy path, greet, make termin with mail and bye
    steps:
      - user: |
          Guten Tag
        intent: begruessung
      - action: action_begruessung
      - user: |
          Ich möchte gerne einen [Termin]{"entity": "termin_type", "value": "termin"} vereinbaren.
        intent: termin_vereinbaren
      - slot_was_set:
          - termin_type: termin
      - action: termin_form
      - active_loop: termin_form
      - slot_was_set:
          - termin_type: termin
      - slot_was_set:
          - requested_slot: termin_medium
      - user: |
          Gerne per [mail]{"entity": "termin_medium", "value": "mail"}.
        intent: termin_medium_inform_mail
      - slot_was_set:
          - termin_medium: mail
      - action: termin_form
      - slot_was_set:
          - termin_medium_attempts: 0
          - termin_medium: mail
          - requested_slot: null
      - active_loop: null
      - action: action_termin_vereinbaren
      - slot_was_set:
          - termin_medium: null
          - termin_medium_attempts: 0
      - user: |
          Tschüss
        intent: verabschiedung
      - action: action_verabschiedung